# ENV configuration
NODE_ENV=development

# port configuration
PORT=30003

# database configurations
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_USER=tappuser
MONGODB_PASSWORD=tapppass123!
MONGODB_DATABASE=tappdb
# mongodb_url=

# collections
COLLECTION_ENTITY=Entities
COLLECTION_LIST=Lists
COLLECTION_ENTITY_REACTIONS=EntityReactions
COLLECTION_LIST_REACTIONS=ListReactions
COLLECTION_LIST_ENTITY_REL=Relations

# default kinds
DEFAULT_ENTITY_KIND=product
DEFAULT_LIST_KIND=wishlist
DEFAULT_RELATION_KIND=contains
DEFAULT_ENTITY_REACTION_KIND=like
DEFAULT_LIST_REACTION_KIND=like

# allowed kinds
ENTITY_KINDS=product,blog-post,user-profile,document
LIST_KINDS=wishlist,collection
LIST_ENTITY_REL_KINDS=contains,related-to
ENTITY_REACTION_KINDS=like,comment,rating,flag
LIST_REACTION_KINDS=like,comment,rating,flag


ENTITY_UNIQUENESS="where[_kind]=${kind}&where[slug]=${slug}"
LIST_UNIQUENESS="where[_kind]=${kind}&where[slug]=${slug}"
RELATION_UNIQUENESS="where[_listId]=${_listId}&where[_entityId]=${_entityId}&where[_kind]=${kind}"
ENTITY_REACTION_UNIQUENESS="where[_kind]=${kind}&where[_entityId]=${_entityId}"
LIST_REACTION_UNIQUENESS="where[_kind]=${kind}&where[_listId]=${_listId}"

# auto approve configurations
AUTOAPPROVE_ENTITY=false
AUTOAPPROVE_LIST=false
AUTOAPPROVE_ENTITY_REACTION=false
AUTOAPPROVE_LIST_REACTION=false

# visibility
VISIBILITY_ENTITY=protected
VISIBILITY_LIST=protected
VISIBILITY_ENTITY_REACTION=protected
VISIBILITY_LIST_REACTION=protected

# response limits
RESPONSE_LIMIT_ENTITY=100
RESPONSE_LIMIT_LIST=100
RESPONSE_LIMIT_LIST_ENTITY_REL=100
RESPONSE_LIMIT_ENTITY_REACTION=100
RESPONSE_LIMIT_LIST_REACTION=100

# record limits
# Basic examples (no duration)
ENTITY_RECORD_LIMITS='[{"scope":"","limit":500}]'
LIST_RECORD_LIMITS='[{"scope":"","limit":500}]'
RELATION_RECORD_LIMITS='[{"scope":"","limit":500}]'
ENTITY_REACTION_RECORD_LIMITS='[{"scope":"","limit":1000}]'
LIST_REACTION_RECORD_LIMITS='[{"scope":"","limit":1000}]'

# Examples with duration (sliding window)
# Limit book entities created in the last 30 days
# ENTITY_RECORD_LIMITS='[{"scope":"where[_kind]=book","limit":100,"duration":"30d"}]'
# Limit entity reactions per entity created in the last 30 days
# ENTITY_REACTION_RECORD_LIMITS='[{"scope":"where[_entityId]=${_entityId}","limit":500,"duration":"30d"}]'

# idempotency configurations
#IDEMPOTENCY_ENTITY_FOR_PRODUCT=_ownerUsers,sku
#IDEMPOTENCY_LIST_FOR_WISHLIST=_ownerUsers
#IDEMPOTENCY_ENTITY_REACTION_FOR_LIKE=_entityId,_createdBy
